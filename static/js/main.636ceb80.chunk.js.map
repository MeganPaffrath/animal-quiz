{"version":3,"sources":["airtable.js","Quiz.jsx","Summary.jsx","App.js","index.js"],"names":["airtableAPI","process","airtableReadAPI","result","a","axios","post","res","console","log","getItems","get","Quiz","setView","setAnimal","animalScores","animals","incrementScore","input","target","value","checked","className","map","i","type","name","id","onChange","e","for","onClick","maxVal","animal","newItem","then","response","setTimeout","Summary","useState","data","setData","useEffect","items","records","allRecords","Map","forEach","element","index","has","fields","set","class","href","undefined","keys","k","App","view","require","config","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.636ceb80.chunk.js","sourcesContent":["import axios from \"axios\";\n\nvar airtableAPI = process.env.REACT_APP_DB_URL + \"api_key=\" + process.env.REACT_APP_API_KEY;\n\nvar airtableView = \"Grid+view\";\n\nvar airtableReadAPI = airtableAPI + \"&view=\" + airtableView + \"&maxRecords=100&sortField=_createdTime&sortDirection=desc\";\n\nexport async function newItem (result) {\n  try {\n    let res = await axios.post(airtableAPI, {\n      \"fields\": {\n        \"result\": result,\n        \"count\": 1\n      }\n    })\n\n    console.log(res);\n  } catch (err) {\n    console.log(\"ERROR: \" + err)\n  }\n\n}\n\nexport async function getItems() {\n  try {\n    return await axios.get(airtableReadAPI);\n  } catch (err) {\n    console.log(\"error \" + err);\n    return err;\n  }\n}\n\nexport async function getItems2() {\n  let results = new Map();\n  try {\n    let res = axios\n    .get(airtableReadAPI)\n    .then(function(result) {\n      console.log(\"results found\")\n      result.data.records.forEach(function(element, index) {\n        if (results.has(element.fields.result)) {\n          // console.log(results);\n          console.log(\"again\");\n          results.set(\n            element.fields.result,\n            (results.get(element.fields.result) + 1)\n          )\n          \n        } else {\n          results.set(element.fields.result, 1);\n        }\n        \n      });\n      console.log(\"returning results\")\n      return results;\n    })\n  } catch (err) {\n    console.log(\"error \" + err);\n    return new Map();\n  }\n}","import React from 'react'\nimport {newItem} from \"./airtable.js\"\n\nexport default function Quiz({setView, setAnimal}) {\n  let animalScores = [0,0,0,0];\n  let animals = [\"lion\", \"otter\", \"beaver\", \"golden retriever\"];\n  let lionTraits = [\n    \"I take charge\",\n    \"I am determined\",\n    \"I am assertive\",\n    \"I am enterprising\",\n    \"I am firm\",\n    \"I am cometitive\",\n    \"I enjoy a good challenge\",\n    \"I am bold\",\n    \"I am purposeful\",\n    \"I am a decicion maker\",\n    \"I am a leader\",\n    \"I am goal driven\",\n    \"I am self reliant\",\n    \"I am adventurous\"\n  ]\n\n  let otterTraits = [\n    \"I take risks\",\n    \"I am a visionary\",\n    \"I am a motivator\",\n    \"I am energetic\",\n    \"I am very verbal\",\n    \"I am a promoter\",\n    \"I avoid details\",\n    \"I am fun loving\",\n    \"I like variety\",\n    \"I enjoy change\",\n    \"I am creative\",\n    \"I am group oriented\",\n    \"I am optimistic\",\n    \"I mix well with others\"\n  ]\n\n  let goldenTraits = [\n    \"I am loyal\",\n    \"I am nondemanding\",\n    \"I am even keel\",\n    \"I avoid conflict\",\n    \"I enjoy routine\",\n    \"I dislike change\",\n    \"I have deep relationships\",\n    \"I am adaptable\",\n    \"I am sympathetic\",\n    \"I am thoughtful\",\n    \"I am nurturing\",\n    \"I am patient\",\n    \"I am tolerant\",\n    \"I am a good listener\"\n  ]\n\n  let beaverTraits = [\n    \"I am deliberate\",\n    \"I am controllable\",\n    \"I am reserved\",\n    \"I am predictable\",\n    \"I am practical\",\n    \"I am orderly\",\n    \"I am factual\",\n    \"I am discerning\",\n    \"I am detailed\",\n    \"I am analytical\",\n    \"I am inquisitive\",\n    \"I am percise\",\n    \"I am persistent\",\n    \"I follow a schedule\"\n  ]\n\n  function incrementScore(input) {\n    if (input) {\n      if (input.target.value === \"lion\") {\n        input.target.checked ? \n          animalScores[0] += 1 \n          : animalScores[0] -= 1\n      } else if (input.target.value === \"otter\") {\n        input.target.checked ? \n          animalScores[1] += 1 \n          : animalScores[1] -= 1\n      } else if (input.target.value === \"beaver\") {\n        input.target.checked ? \n          animalScores[2] += 1 \n          : animalScores[2] -= 1\n      } else if (input.target.value === \"golden retriever\") {\n        input.target.checked ? \n          animalScores[3] += 1 \n          : animalScores[3] -= 1\n      }\n    }\n  \n    console.log(animalScores);\n  }\n\n  function enterData() {\n    let maxVal = 0;\n    let maxIndex = 0;\n\n    for (let i=0; i<4; i++) {\n      if (animalScores[i] > maxVal) {\n        maxVal = animalScores[i];\n        maxIndex = i;\n      }\n    }\n\n    let animal = \"\";\n\n    for (let i=0; i<4; i++) {\n      if (animalScores[i] === maxVal) {\n        animal === \"\" ? animal += animals[i] : \n          (animal += (\"/\" + animals[i]) )\n      }\n    }\n\n    console.log(\"You are an \" + animal);\n    setAnimal(animal);\n    newItem(animal).then(function(response) {\n      // give it a little bit for data to hit AirTable\n      setTimeout(function() {\n        setView(\"summary\");\n      }, 750);\n    })\n  }\n\n  return (\n    <div className=\"items\">\n      <h1> Are you a ü¶Å lion, ü¶¶ otter, üêï golden retriever, or a ü¶´ beaver?</h1>\n      <h3>Select your traits:</h3>\n      {\n        lionTraits.map((i) => {\n          return <div key={i} >\n            <input type=\"checkbox\" value=\"lion\" name={i} id={i} onChange={(e) => incrementScore(e)}/>\n            <label for={i}>{i}</label>\n          </div>\n        })\n      }\n      {\n        otterTraits.map((i) => {\n          return <div key={i}>\n            <input type=\"checkbox\" value=\"otter\" name={i} id={i} onChange={(e) => incrementScore(e)}/>\n            <label for={i}>{i}</label>\n          </div>\n        })\n      }\n      {\n        goldenTraits.map((i) => {\n          return <div key={i}>\n            <input type=\"checkbox\" value=\"golden retriever\" name={i} id={i} onChange={(e) => incrementScore(e)}/>\n            <label for={i}>{i}</label>\n          </div>\n        })\n      }\n      {\n        beaverTraits.map((i) => {\n          return <div key={i}>\n            <input type=\"checkbox\" value=\"beaver\" name={i} id={i} onChange={(e) => incrementScore(e)}/>\n            <label for={i}>{i}</label>\n          </div>\n        })\n      }\n      <button onClick={enterData}>Submit</button>\n    </div>\n  )\n}\n","import React, {useState, useEffect} from 'react';\nimport {getItems} from \"./airtable.js\"\n\nexport default function Summary({animal}) {\n  let [data, setData] = useState();\n\n  useEffect(async () => {\n    let items = await getItems();\n    console.log(items.data.records);\n    let allRecords = new Map();\n\n    items.data.records.forEach(function(element, index) {\n      if (allRecords.has(element.fields.result)) {\n        console.log(\"again\");\n        allRecords.set(\n          element.fields.result,\n          (allRecords.get(element.fields.result) + 1)\n        )\n        \n      } else {\n        allRecords.set(element.fields.result, 1);\n      }\n    })\n\n    setData(allRecords);\n  }, [])\n  \n  return (\n    <div>\n      <h1>You are: {animal}</h1>\n      <div class=\"types\">\n        <h2>ü¶Å Lions</h2>\n        <p>Lions take charge. They like short answers and do not like being controlled by others.</p>\n        <h2>ü¶¶ Otters</h2>\n        <p>Otters are outgoing. They enjoy being with others and are enthusiastic.</p>\n        <h2>üêï Golden Retrievers</h2>\n        <p>Golden retrievers are loyal and trustworthy. They like to help others and are friendly.</p>\n        <h2>ü¶´ Beavers</h2>\n        <p>Beavers are quite and like to work alone.</p>\n        <h2>Learn more...</h2>\n        <p>Learn more here: <a href=\"https://www.myrelationshipcenter.org/resources/personality-animal-profiles\" target=\"_blank\">here</a></p>\n      </div>\n      <h2>Other People's Results:</h2>\n      { (data !== undefined) ? (\n        [...data.keys()].map((k) => <p>{k}: {data.get(k)}</p>)\n      ) : <p>bad</p> }\n    </div>\n  )\n}\n","import React, {useState} from \"react\"\nimport Quiz from \"./Quiz\";\nimport Summary from \"./Summary\"\n\nfunction App() {\n  let [view, setView] = useState(\"quiz\");\n  let [animal, setAnimal] = useState(\"\");\n  \n\n  return (\n    <div className=\"App\">\n      <section>\n        {(view === \"quiz\") ? <Quiz setView={setView} setAnimal={setAnimal}/> : <Summary animal={animal}/>}\n      </section>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nrequire('dotenv').config();\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}